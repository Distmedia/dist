---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import PText from "../components/PText.astro";

import { people } from "../assets/read.json";

export async function getStaticPaths() {
  return people.map((person) => {
    return {
      params: { person_slug: person.slug },
      props: { person },
    };
  });
}

interface Props {
  person: {
    slug: string;
    name: string;
    info: any;
    avatar: string;
  };
}

let { person } = Astro.props;
---

<Layout title={person.name}>
  <Navbar additional={person.name} back="/read" />
  <main
    class="min-h-screen min-w-full p-4 py-20 flex md:grid md:grid-cols-[420px_minmax(min-content,690px)]"
  >
    <div></div>

    <div class="">
      <img
        src={person.avatar}
        alt={person.name}
        class="w-full rounded-xl"
      />
      <div class="mt-6">
        <PText portableText={person.info} />
      </div>
    </div>
  </main>
</Layout>
